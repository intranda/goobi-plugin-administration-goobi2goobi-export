<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/compositesPG"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:p="http://primefaces.org/ui"
    xmlns:jsf="http://xmlns.jcp.org/jsf">

    <composite:interface>
    </composite:interface>

    <composite:implementation>

        <h:outputText
            rendered="#{!LoginForm.hasRole('Plugin_goobi2goobi_export')}"
            styleClass="alert alert-danger d-block"
            value="#{msgs.plugin_administration_missingPermission} Plugin_goobi2goobi_export"/>
        
        <ui:fragment rendered="#{LoginForm.hasRole('Plugin_goobi2goobi_export')}">
        
			<span class="alert alert-warning d-block mb-3">
				<i class="fa fa-exclamation-triangle me-3"/> 
				<h:outputText
                    value="#{msgs.plugin_administration_goobi2goobi_export_notice}"/>
        	</span>
	        
		         <h:form id="templatesForm">
			        
                    <intranda:box
                        boxClass="mb-3"
                        boxType="neutral"
                        boxPadding="true"
                        icon="fa-plug"
                        title="#{msgs.plugin_administration_goobi2goobi_export_templates}">
                        
                        <h:outputText styleClass="margin-sides-10 margin-top-most" value="#{msgs.plugin_administration_goobi2goobi_export_exportTemplateDescription}" />
                        <div class="form-actions">
                            <button
                                class="btn btn-primary"
                                jsf:id="exportTemplates"
                                type="submit"
                                jsf:action="#{AdministrationForm.administrationPlugin.generateExportFileForTemplates}">
                                <i class="fa fa-save"></i>
                                <span>
                                    <h:outputText value="#{msgs.plugin_administration_goobi2goobi_export_exportTemplateData}" />
                                </span>
                            </button>
                            
						</div>
                    </intranda:box>
                    
				</h:form>
		
		        <h:form id="tableForm">
			        
                    <intranda:box
                        boxType="action"
                        boxPadding="false"
                        boxForm="true"
                        icon="fa-plug"
                        title="#{msgs.plugin_administration_goobi2goobi_export_infrastructure}">
                        
                        <intranda:formInputCheckBox
                            id="ldapGroup"
                            label="#{msgs.plugin_administration_goobi2goobi_export_ldapGroups}"
                            field="#{AdministrationForm.administrationPlugin.ldapGroups}"
                            help="#{msgs.plugin_administration_goobi2goobi_export_ldapGroups_help}"
                            name="ldapGroup" />

                        <intranda:formInputCheckBox
                            id="user"
                            label="#{msgs.plugin_administration_goobi2goobi_export_user}"
                            field="#{AdministrationForm.administrationPlugin.user}"
                            help="#{msgs.plugin_administration_goobi2goobi_export_user_help}"
                            name="user" />

                        <intranda:formInputCheckBox
                            id="includeInactiveUser"
                            label="#{msgs.plugin_administration_goobi2goobi_export_includeInactiveUser}"
                            field="#{AdministrationForm.administrationPlugin.includeInactiveUser}"
                            help="#{msgs.plugin_administration_goobi2goobi_export_includeInactiveUser_help}"
                            name="includeInactiveUser" />

                        <intranda:formInputCheckBox
                            id="createNewPasswords"
                            label="#{msgs.plugin_administration_goobi2goobi_export_overwritePasswords}"
                            field="#{AdministrationForm.administrationPlugin.createNewPasswords}"
                            help="#{msgs.plugin_administration_goobi2goobi_export_overwritePasswords_help}"
                            name="createNewPasswords" />

                        <intranda:formInputCheckBox
                            id="userGroups"
                            label="#{msgs.plugin_administration_goobi2goobi_export_userGroups}"
                            field="#{AdministrationForm.administrationPlugin.userGroups}"
                            help="#{msgs.plugin_administration_goobi2goobi_export_userGroups_help}"
                            name="userGroups" />

                        <intranda:formInputCheckBox
                            id="usergroupAssignments"
                            label="#{msgs.plugin_administration_goobi2goobi_export_usergroupAssignments}"
                            field="#{AdministrationForm.administrationPlugin.usergroupAssignments}"
                            help="#{msgs.plugin_administration_goobi2goobi_export_usergroupAssignments_help}"
                            name="usergroupAssignments" />

                        <intranda:formInputCheckBox
                            id="projects"
                            label="#{msgs.plugin_administration_goobi2goobi_export_projects}"
                            field="#{AdministrationForm.administrationPlugin.projects}"
                            help="#{msgs.plugin_administration_goobi2goobi_export_projects_help}"
                            name="projects" />

                        <intranda:formInputCheckBox
                            id="projectAssignments"
                            label="#{msgs.plugin_administration_goobi2goobi_export_projectAssignments}"
                            field="#{AdministrationForm.administrationPlugin.projectAssignments}"
                            help="#{msgs.plugin_administration_goobi2goobi_export_projectAssignments_help}"
                            name="projectAssignments" />

                        <intranda:formInputCheckBox
                            id="rulesets"
                            label="#{msgs.plugin_administration_goobi2goobi_export_rulesets}"
                            field="#{AdministrationForm.administrationPlugin.rulesets}"
                            help="#{msgs.plugin_administration_goobi2goobi_export_rulesets_help}"
                            name="rulesets" />

                        <intranda:formInputCheckBox
                            id="dockets"
                            label="#{msgs.plugin_administration_goobi2goobi_export_dockets}"
                            field="#{AdministrationForm.administrationPlugin.dockets}"
                            help="#{msgs.plugin_administration_goobi2goobi_export_dockets_help}"
                            name="dockets" />

                        <intranda:formInputCheckBox
                            id="includeFiles"
                            label="#{msgs.plugin_administration_goobi2goobi_export_includeFiles}"
                            field="#{AdministrationForm.administrationPlugin.includeFiles}"
                            help="#{msgs.plugin_administration_goobi2goobi_export_includeFiles_help}"
                            name="includeFiles" />
                            
                        <div class="form-actions">
                            <button
                                class="btn btn-success"
                                jsf:id="exportSelectedData"
                                type="submit"
                                jsf:action="#{AdministrationForm.administrationPlugin.exportSelectedData}">
                                <i class="fa fa-file-archive-o"></i>
                                <span>
                                    <h:outputText value="#{msgs.plugin_administration_goobi2goobi_export_exportInfrastructure}" />
                                </span>
                            </button>
			            </div>
                    </intranda:box>
                    
				</h:form>
			</ui:fragment>
		    
    </composite:implementation>

</ui:composition>